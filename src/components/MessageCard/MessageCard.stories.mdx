import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs/blocks'
import { boolean, select, text } from '@storybook/addon-knobs'
import MessageCard from './'

<Meta
  title="Components/Conversation/Message/MessageCard"
  component={MessageCard}
  parameters={{
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/Wp9mDxTvWicSTWtezj2ImkMP/HSDS-Product?node-id=2582%3A7771',
    },
    knobs: {
      escapeHTML: false,
    },
  }}
/>

# MessageCard

This component renders a Message Card Notification with (optional) Title, Subtitle, Body, and Action props.

<Canvas>
  <Story name="default">
    <MessageCard
      key="default"
      in={boolean('show', true)}
      isMobile={boolean('isMobile', false)}
      isWithBoxShadow={boolean('isWithBoxShadow', true)}
      withAnimation={true}
      align={select('Align', { Right: 'right', Left: 'left' }, 'right')}
      subtitle={text('Subtitle', 'The J&G Team is here')}
      title={text('Title', 'Need help?')}
      body={text(
        'Body',
        '<p>This <i>sentence</i> has five <u>words</u>. has five more <code class="inline-code">words</code></p><ul> <li>Point one</li><li>Somewhat unimaginatively , I&#39;ve <s>compartmentalized</s> my incomprehensibilities. Furthermore, announcements of such long-windedness are likely un-copyrightable!</li><li>Text</li></ul><p>Hol’ up, here comes a blockquote. Thanks,</p><blockquote> <p>This sentence has five words. Here are five more words. Five-word sentences are fine. But several together become monotonous. Listen to what is happening. The writing is getting boring. The sound of it drones. It’s like a stuck record. The ear demands some variety. Now listen. I vary the sentence length, and I create music. Music. The writing sings. It has a pleasant rhythm, a lilt, a harmony. I use short sentences</p></blockquote><p><b>Bold text</b> is charcoal.800 whist links are <a href="https://www.google.com/">blue.600</a></p><ol> <li>Point one</li><li>Point two is made up of two lines, of course list items can extend well beyond this, but still respect the grid</li><li>Text</li></ol><pre><code><p>let settings = HSBeaconSettings(beaconId: "cac8be08-60a3 -46e8-b22e-ed50bfcaa0aa"); HSBeacon.open(settings);</p></code></pre><p>The J&amp;G Support Team are always happy.</p>'
      )}
      action={() => <MessageCard.Button>Click here</MessageCard.Button>}
    />
  </Story>
</Canvas>

# with body scrollbar

<Canvas>
  <Story name="with scrollbar">
    <MessageCard
      key="default"
      in={boolean('show', true)}
      isMobile={boolean('isMobile', false)}
      isWithBoxShadow={boolean('isWithBoxShadow', true)}
      withAnimation={true}
      align={select('Align', { Right: 'right', Left: 'left' }, 'right')}
      subtitle={text('Subtitle', 'The J&G Team is here')}
      title={text('Title', 'Need help?')}
      body={text(
        'Body',
        '<p>This <i>sentence</i> has five <u>words</u>. has five more <code class="inline-code">words</code></p><ul> <li>Point one</li><li>Somewhat unimaginatively , I&#39;ve <s>compartmentalized</s> my incomprehensibilities. Furthermore, announcements of such long-windedness are likely un-copyrightable!</li><li>Text</li></ul><p>Hol’ up, here comes a blockquote. Thanks,</p><blockquote> <p>This sentence has five words. Here are five more words. Five-word sentences are fine. But several together become monotonous. Listen to what is happening. The writing is getting boring. The sound of it drones. It’s like a stuck record. The ear demands some variety. Now listen. I vary the sentence length, and I create music. Music. The writing sings. It has a pleasant rhythm, a lilt, a harmony. I use short sentences</p></blockquote><p><b>Bold text</b> is charcoal.800 whist links are <a href="https://www.google.com/">blue.600</a></p><ol> <li>Point one</li><li>Point two is made up of two lines, of course list items can extend well beyond this, but still respect the grid</li><li>Text</li></ol><pre><code><p>let settings = HSBeaconSettings(beaconId: "cac8be08-60a3 -46e8-b22e-ed50bfcaa0aa"); HSBeacon.open(settings);</p></code></pre><p>The J&amp;G Support Team are always happy.</p>'
      )}
      image={{
        height: '700',
        width: '1050',
        url:
          'https://images.unsplash.com/photo-1620607812709-f7c4a88baf11?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80',
      }}
      action={() => <MessageCard.Button>Click here</MessageCard.Button>}
      style={{ height: '600px' }}
    />
  </Story>
</Canvas>

# With image

<Canvas>
  <Story name="With image">
    <MessageCard
      key="with-image"
      in={boolean('show', true)}
      isMobile={boolean('isMobile', false)}
      isWithBoxShadow={boolean('isWithBoxShadow', true)}
      withAnimation={true}
      subtitle={text('Subtitle', 'The J&G Team is here')}
      title={text('Title', 'Need help?')}
      image={{
        height: '700',
        width: '1050',
        url:
          'https://images.unsplash.com/photo-1620607812709-f7c4a88baf11?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80',
      }}
    />
  </Story>
</Canvas>

# With image and action

<Canvas>
  <Story name="With image and action">
    <MessageCard
      subtitle={text('Subtitle', 'The J&G Team is here')}
      title={text('Title', 'Need help?')}
      body={text('Body', '<p>This <i>sentence</i> has five <u>words</u>. </p>')}
      image={{
        height: '700',
        width: '1050',
        url:
          'https://images.unsplash.com/photo-1620607812709-f7c4a88baf11?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80',
      }}
      action={() => <MessageCard.Button>Click here</MessageCard.Button>}
    />
  </Story>
</Canvas>

# With attachment

<Canvas>
  <Story name="With attachment">
    <div style={{ width: '300px' }}>
      <MessageCard
        subtitle={text('Subtitle', 'The J&G Team is here')}
        title={text('Title', 'Need help?')}
        body={text(
          'Body',
          '<p>This <i>sentence</i> has five <u>words</u>. </p>'
        )}
        image={{
          height: '700',
          width: '1050',
          url:
            'https://images.unsplash.com/photo-1620607812709-f7c4a88baf11?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80',
        }}
        action={() => <MessageCard.Button>Click here</MessageCard.Button>}
      />
      <MessageCard.ArticleCard
        onClick={() => {}}
        title="Attachment"
        content="Some content for attachment"
        footer={
          <MessageCard.UrlAttachmentImage url="https://images.unsplash.com/photo-1620607812709-f7c4a88baf11?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" />
        }
        contentLimit={201}
      />
    </div>
  </Story>
</Canvas>

# With variables

<Canvas>
  <Story name="With variables">
    <MessageCard
      subtitle={text('Subtitle', 'The J&G Team is here')}
      title={text('Title', 'Need help?')}
      body={text(
        'Body',
        '<p>Hi {%customer.firstName,fallback=there%}!</p> <p>This <i>sentence</i> has five <u>words</u>. </p> <p>See you at our <b>amazing show with {%coordinator,fallback=Coordinator%}</b>!</p> <p>It would happen at {%date%}</p> <p>And this is non-existing variable {%nonExisting,fallback=no%}</p>'
      )}
      variables={[
        { id: 'customer.firstName', display: 'First Name' },
        { id: 'coordinator', display: 'Person' },
        { id: 'date', display: 'Date' },
      ]}
    />
  </Story>
</Canvas>

# With survey

<Canvas>
  <Story name="With survey">
    <MessageCard
      title="How did you feel about your checkout experience?"
      body="Your feedback is valuable to us. Let us know how we did so we can continue to improve our services."
      action={() => (
        <MessageCard.Survey
          withFeedbackForm
          feedbackFormText="Tell us more..."
          onSubmit={data => console.log(data)}
        />
      )}
    />
  </Story>
</Canvas>

#### Reference

- **Designer**: Buzz
- **Engineering**: Juan Pablo
- **Usage**: Beacon2, ChatApp

<br />
<br />

### Props

<ArgsTable of={MessageCard} />
